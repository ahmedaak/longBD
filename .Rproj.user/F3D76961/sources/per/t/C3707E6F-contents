## this script analyzes ROI-wise perfusion values from longitudinal BOLD delay cohort
rm(list = ls())
library(R.matlab)

# load data
BD_tmax <- readMat("roivals_tsa_tmax_perf.mat") # BOLD delay and Tmax
ttp <- readMat("roivals_ttp_perf.mat") # TTP

BD_tmax_aff <- readMat("roivals_affVT_tsa_tmax_perf.mat") # BOLD delay and Tmax
ttp_aff <- readMat("roivals_ttp_perf_aff.mat") # TTP

# combine them
roi_perf_vals <- append(BD_tmax, ttp)
roi_perf_vals_aff <- append(BD_tmax_aff, ttp_aff)

# calculate differences between ROI values between days 0 + 1
tmax_diff_recan <- roi_perf_vals_aff$tmax.d1.recan - roi_perf_vals_aff$tmax.d0.recan
tmax_diff_nonrecan <- roi_perf_vals_aff$tmax.d1.nonrecan - roi_perf_vals_aff$tmax.d0.nonrecan
BD_diff_recan <- roi_perf_vals_aff$tsa.d1.recan - roi_perf_vals_aff$tsa.d0.recan
BD_diff_nonrecan <- roi_perf_vals_aff$tsa.d1.nonrecan - roi_perf_vals_aff$tsa.d0.nonrecan
ttp_diff_recan <- roi_perf_vals_aff$ttp.d1.recan - roi_perf_vals_aff$ttp.d0.recan
ttp_diff_nonrecan <- roi_perf_vals_aff$ttp.d1.nonrecan - roi_perf_vals_aff$ttp.d0.nonrecan